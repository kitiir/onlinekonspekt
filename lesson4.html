<!doctype html>
<html lang="en">
<style>
@media (min-width: 768px) {
  .navbar-container {
    position: sticky;
    top: 0;
    overflow-y: auto;
    height: 100vh;
  }
  .navbar-container .navbar {
    align-items: flex-start;
    justify-content: flex-start;
    flex-wrap: nowrap;
    flex-direction: column;
    height: 100%;
  }
  .navbar-container .navbar-collapse {
    align-items: flex-start;
  }
  .navbar-container .nav {
    flex-direction: column;
    flex-wrap: nowrap;
  }
  .navbar-container .navbar-nav {
    flex-direction: column !important;
  }
}
</style>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.5">
    <title>Онлайн-Конспект/Мерзкое пианино</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/carousel/">
    <link href="/docs/4.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>

<body>
<header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="#">Онлайн-Конспект</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Главная</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="about.html">О нас</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="services.html">Сервисы</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="partners.html">Партнеры</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="projects.html">Проекты</a>
        </li>

        <li class="nav-item active">
          <a class="nav-link" href="articles.html">Статьи<span class="sr-only">(current)</span></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="careers.html">Наши достижения</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="contact.html">Контакты</a>
        </li>
      </ul>
      <form class="form-inline mt-2 mt-md-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Поиск</button>
      </form>
    </div>
  </nav>
</header>

<main role="main">
  <div class="wrapper container">

        <div class="jumbotron jumbotron-fluid">
          <div class="container">
            <h1 class="display-4">Мерзкое пианино</h1>
            <p class="lead">В этом эксперименте мы создаем маленькую клавиатуру, на которой можно сыграть несколько нот.</p>
          </div>
        </div>

<div class="container-fluid">
    <div class="row">
      <div class="col-md-4 col-lg-3 navbar-container" style="background-color: #e9ecef ">
        <nav class="navbar navbar-expand-md navbar-light" >
          <a class="navbar-brand" href="#">Популярные проекты</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbar">
            <ul class="navbar-nav">
              <li class="nav-item">
              <a class="nav-link" href="#link-1">Светильник с управляемой яркостью</a>
              </li>
              <li class="nav-item">
              <a class="nav-link" href="#link-2">Пульсар</a>
              </li>
              <li class="nav-item">
              <a class="nav-link" href="#link-3">Миксер</a>
              </li>
              <li class="nav-item">
              <a class="nav-link" href="#link-4">Мерзкое пианино</a>
              </li>
            </ul>
          </div>
        </nav>
      </div>

      <div class="col-sm">
      <section class="col-md-17">
			 <h2>Список деталей для эксперимента</h2>
				  <p>• 1 плата Arduino Uno</p>
				  <p>• 1 беспаечная макетная плата</p>
                  <p>• 1 пьезопищалка</p>
                  <p>• 3 тактовых кнопки</p>
                  <p>• 3 резистора номиналом 10 кОм</p>
                  <p>• 10 проводов «папа-папа»</p>
             <h2>Для дополнительного задания</h2>
                  <p>• еще 2 кнопки</p>
                  <p>• еще 2 резистора номиналом 10 кОм</p>
                  <p>• еще 2 провода</p>
                
               <h2>Принципиальная схема</h2>
                 <img src="http://wiki.amperka.ru/_media/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-arduino:8_dumb_piano_scheme.svg.png">
               <h2>Схема на макетке</h2>
                <img src="http://wiki.amperka.ru/_media/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-arduino:8_dumb_piano_bread.svg.png">
               <h2>Обратите внимание</h2>
                  <p>• Ножки тактовой кнопки, расположенные с одной стороны, разомкнуты, когда кнопка не нажата. Ножки, расположенные друг напротив друга на противоположных сторонах макетки находятся на одной «рельсе». Воспользовавшись этим, мы можем расположить резистор с одной стороны макетки, а провод, подключаемый к порту Arduino, с другой стороны.</p>
                  <p>• В данном эксперименте мы подключаем кнопки по схеме с подтягивающим резистором.</p>
                  <p>• Для того, чтобы данный вариант программы работал, важно, чтобы кнопки были подключены к портам, находящимся рядом друг с другом, т.е. имеющим соседние номера.</p>
                  
                <h2>Скетч</h2>
                <pre class="prettyprint lang-c">
#define BUZZER_PIN    13 // пин с пищалкой (англ. «buzzer»)
#define FIRST_KEY_PIN 7  // первый пин с клавишей (англ. «key»)
#define KEY_COUNT     3  // общее количество клавиш
 
void setup()
{
  pinMode(BUZZER_PIN, OUTPUT);
}
 
void loop()
{
  // в цикле бежим по всем номерам кнопок от 0-го по 2-й
  for (int i = 0; i < KEY_COUNT; ++i) {
    // на основе номера кнопки вычисляем номер её пина
    int keyPin = i + FIRST_KEY_PIN;
 
    // считываем значение с кнопки. Возможны всего 2 варианта:
    //  * высокий сигнал, 5 вольт, истина — кнопка отпущена
    //  * низкий сигнал, земля, ложь — кнопка зажата
    boolean keyUp = digitalRead(keyPin);
 
    // проверяем условие «если не кнопка отпущена». Знак «!»
    // перед булевой переменной означает отрицание, т.е. «не».
    if (!keyUp) {
      // рассчитываем высоту ноты в герцах в зависимости от
      // клавиши, которую рассматриваем на данном этапе цикла.
      // Мы получим значение 3500, 4000 или 4500
      int frequency = 3500 + i * 500;
 
      // Заставляем пищалку пищать с нужной частотой в течение
      // 20 миллисекунд. Если клавиша останется зажатой, пищалка
      // вновь зазвучит при следующем проходе loop, а мы услышим
      // непрерывный звук
      tone(BUZZER_PIN, frequency, 20);
    }
  }
}
                </pre>

             <h2>Пояснения к коду</h2>
               <p>• Благодаря тому, что в начале программы мы определили FIRST_KEY_PIN и KEY_COUNT, мы можем подключать произвольное количество кнопок к любым идущим друг за другом цифровым пинам, и для корректировки программы нам не придется менять параметры цикла for. Изменить понадобится лишь эти константы:
цикл в любом случае пробегает от 0 до KEY_COUNT;
перед считыванием порта мы задаем смещение на номер первого используемого порта — FIRST_KEY_PIN.</p>
               <p>• Функция digitalRead(pin) возвращает состояние порта, номер которого передан ей параметром pin. Это может быть состояние HIGH или LOW. Или, выражаясь иначе: высокое напряжение или низкое, 1 или 0, true или false</p>
             
               <p>• Поскольку мы получаем с порта одно из двух состояний, мы сохраняем его в переменную уже знакомого нам типа boolean, и можем работать с ней как с логическим значением.</p>
               <p>• Мы используем логический оператор отрицания «не» !. Если keyUp имеет значение 0, выражение !keyUp будет иметь значение 1 и наоборот.</p>
               <p>• Поскольку мы собрали схему с подтягивающим резистором, при нажатии кнопки мы будем получать на соответствующем порте 0.</p>
               <p>• Действия, описанные в условном выражении if, выполняются, когда его условие имеет значение «истина» (единица). Поэтому для выполнения действия по нажатию, мы инвертируем сигнал с кнопки.</p>

               <h2>Вопросы для проверки себя</h2>
                  <p>1. Почему мы не настраивали порты, к которым подключены кнопки, как INPUT, но устройство работает?</p>
                  <p>2. Каким образом мы избежали написания отдельного когда для чтения каждой кнопки?</p>
                  <p>3. Почему разные «ноты», издаваемые пищалкой, звучат с разной громкостью?</p>
                  <p>4. Для чего мы использовали оператор логического отрицания '!' ?</p>

                <h2>Задания для самостоятельного решения</h2>
                <p>1. Сделайте так, чтобы наше пианино звучало в диапазоне от 2 кГц до 5 кГц.</p>
                <p>2. Добавьте еще 2 кнопки и измените программу так, чтобы можно было извлечь 5 различных нот.</p>
                <p>3. Подключите кнопки по схеме со стягивающим резистором и измените программу так, чтобы она продолжала работать.</p>
              </section>
            </div>
    </div>
  </div>
</div>
  <!-- FOOTER -->
  <footer class="container">
    <p class="float-right"><a href="#">Back to top</a></p>
    <p>&copy; 2017-2019 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
  </footer>
</main>
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script>window.jQuery || document.write('<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>')</script><script src="/docs/4.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&amp;skin=desert"></script>
  </body>
</html>